# Concordance API using Swagger

## Overview
This server was generated by the [swagger-codegen](https://github.com/swagger-api/swagger-codegen) project. By using the
[OpenAPI-Spec](https://github.com/swagger-api/swagger-core/wiki) from a remote server, you can easily generate a server stub.  This
is an example of building a swagger-enabled Flask server.

This example uses the [Connexion](https://github.com/zalando/connexion) library on top of Flask.

## Purpose
The purpose of this application is to create a REST API with endpoints to analyze user input text and perform concordance on it. If it finds a connected database, the results will be stored so the calculation only needs to be performed once if is found in the database. The front end is a simple UI that uses a reverse proxy to make calls to the API locally.
## DevOps pipeline
The latest version of this project was run using Jenkins and built off of the 'Jenkinsfile'. Jenkins was run on EC2 and runs through a pipeline that builds, run tests, runs SonarQube and deploys to its current EC2 IP address. Using Jenkins we are able to push a new change to our code in Github and have it automically build off of that change. We also can see our tests results through Jenkins and if any tests fail the project will not deploy. <br>
<br>
The tools used included Docker, Jenkins, Java, SonarQube, Pytest, and EC2

## Requirements
Python 3.5.2+

## Running with Docker Compose

To run this program using Docker compose, please execute the following from the root directory:

```bash
# Build  and start application
docker-compose up
```
The live servers are available at: 

```bash
# Front end
http://localhost

# Back end
http://localhost:8000/csumano/Concordance/1.0.0/ui/
```


## Cloud deployment

To deploy in a cloud service, follow the steps above.
(the local host will be replaced with the session ip)

## uWSGI deployment

To deploy the backend using uWSGI, please execute the following in the root directory:


```
pip3 install -r requirements.txt
pip3 install uwsgi
uwsgi --http :8080 -w swagger_server.__main__ -p 16
```

The live server is avaible at: 

```
http://localhost:8080/csumano/Concordance/1.0.0/ui/

```

See the [uWSGI documentation](https://uwsgi-docs.readthedocs.io/en/latest/) for more information.

## Usage 
To run the backend server normally, please execute the following from the root directory:

```
pip3 install -r requirements.txt
python3 -m swagger_server
```

and open your browser to here:

```
http://localhost:8000/csumano/Concordance/1.0.0/ui/
```

Your Swagger definition lives here:

```
http://localhost:8000/csumano/Concordance/1.0.0/swagger.json
```

To launch the integration tests, use tox:
```
sudo pip install tox
tox
```






